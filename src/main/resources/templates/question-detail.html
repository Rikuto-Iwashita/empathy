<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="/css/style.css">
    <title>質問詳細</title>
</head>
<body class="question-detail-page">

    <h2>返信する</h2>
    <div class="reply-form">
        <form th:action="@{/empathy/questions/{id}/reply(id=${question.id})}" method="post">
            <textarea name="content" placeholder="返信内容を入力してください" required></textarea>
            <button type="submit">返信</button>
        </form>
    </div>

    <h2>質問</h2>

    <div class="question-content">
        <h2 class="question-title" th:text="${question.title}"></h2>
        <p class="question-text" th:text="${question.content}"></p>
    </div>

    <h2>返信一覧</h2>
    <div class="replies">
        <ul>
            <li th:each="reply : ${formattedReplies}">
                <p class="reply-text">
                    <strong th:text="${reply['user']}">Username</strong>: 
                    <span th:text="${reply['content']}">Content</span>
                </p>
            </li>
        </ul>
    </div>

    <div th:if="${error}">
        <p class="error-message" th:text="${error}"></p>
    </div>

    <a href="/empathy/questions">質問一覧に戻る</a>
</body>
</html>
